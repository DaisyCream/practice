<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>get the massage of txt</title>
</head>
<body>
    <div id="console">haahahhahah</div>
    <input type="button" id="btn" value="click"/>
</body>

<script type="text/javascript">
    var xmlHttp = new window.XMLHttpRequest();
    var con = document.getElementById('console');
    var btn = document.getElementById('btn');

    btn.onclick = function(){
        xmlHttp.onreadystatechange = function(){
            if(xmlHttp.status == 200 && xmlHttp.readyState == 4){
                var dataBack = xmlHttp.responseText;
                var node = dealData(dataBack, 'h2');
                con.innerHTML = '';
                con.appendChild(node);
            }
        };

        xmlHttp.open('GET',' ./massage.txt', true);
        xmlHttp.send();
    };



    function dealData(data, eleType, eleIndex){
        if(eleIndex == undefined){
            eleIndex = 0;
        }
        console.log(eleIndex);
        var node1 = document.createElement('div');
        node1.innerHTML = data;
        console.log(node1.innerHTML);
        var nodes = node1.getElementsByTagName(eleType);
        var node2 = nodes[eleIndex];
        return node2;
    }


</script>